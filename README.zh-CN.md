# 音频速度编排工具

一个功能强大的音频播放列表管理工具，支持为每个音频文件设置不同的播放速度和多种播放模式。

[English](./README.md) | **简体中文**

## 功能特性

### 🎵 音频文件管理
- **多文件上传**: 支持同时上传多个音频文件
- **拖拽上传**: 支持文件拖拽上传操作
- **格式支持**: 支持 MP3、WAV、AAC、OGG 等主流音频格式
- **文件预览**: 上传后可以预览音频文件信息和独立播放
- **独立预览**: 文件预览播放与播放列表播放完全独立

### 💾 智能缓存系统
- **音频文件缓存**: 使用 IndexedDB 存储音频文件，支持大文件和离线访问
- **播放列表持久化**: 使用 localStorage 保存播放列表、播放状态、播放模式和播放时间点
- **自动同步**: 自动监听数据变化并更新缓存
- **智能恢复**: 页面加载时自动恢复缓存数据，并进行数据验证
- **选择性清理**: 支持清理特定类型缓存或全部缓存数据

### 📋 播放列表管理
- **添加项目**: 将音频文件添加到播放列表
- **速度控制**: 为每个播放项目独立设置播放速度（0.5x - 3.0x）
- **项目排序**: 支持上下移动播放项目调整播放顺序
- **项目删除**: 支持从播放列表中删除特定项目
- **批量操作**: 支持清空播放列表和随机排序

### 🎮 播放控制
- **播放/暂停**: 基本的播放控制功能
- **上一首/下一首**: 支持手动切换播放项目
- **进度控制**: 拖拽进度条快速定位播放位置
- **多种播放模式**:
  - **单曲播放**: 播放完当前音频后停止
  - **顺序播放**: 按顺序播放完所有音频后停止
  - **列表循环**: 循环播放整个播放列表
  - **随机播放**: 随机播放播放列表中的音频
- **进度显示**: 实时显示播放进度和时间信息
- **速度应用**: 播放时自动应用设定的播放速度

### 🎨 用户界面
- **响应式设计**: 适配不同屏幕尺寸
- **深色模式**: 支持深色/浅色主题切换
- **直观操作**: 简洁明了的用户界面设计
- **实时反馈**: 操作过程中的实时状态显示

### 🌐 国际化支持
- **多语言**: 支持简体中文和英文界面
- **语言切换**: 页面底部提供语言切换器
- **动态切换**: 无需刷新页面即可实时切换界面语言

## 技术栈

- **框架**: Nuxt 3 + Vue 3 (Composition API)
- **UI 组件**: Nuxt UI
- **样式**: UnoCSS + Tailwind CSS
- **图标**: Lucide Icons
- **国际化**: @nuxtjs/i18n
- **类型检查**: TypeScript
- **包管理器**: PNPM
- **存储**: unstorage (IndexedDB + localStorage)

## 项目结构

```
app/
├── components/              # 功能组件
│   ├── AudioFileManager.vue    # 音频文件管理组件
│   ├── AudioProgressBar.vue    # 可复用进度条组件
│   ├── PlaylistManager.vue     # 播放列表管理组件
│   ├── PlaybackControls.vue    # 播放控制组件
│   ├── PlayModeDescription.vue # 播放模式说明组件
│   └── LanguageSwitcher.vue    # 语言切换器组件
├── composables/             # 组合式函数
│   ├── usePlaylistCache.ts     # 播放列表缓存系统
│   └── usePlayModes.ts         # 播放模式相关逻辑
├── utils/                   # 工具函数和类型定义
│   └── audio.ts                # 音频相关类型、枚举和工具函数
├── pages/
│   └── index.vue               # 主页面
└── app.vue                     # 应用根组件

i18n/
└── locales/                 # 国际化语言文件
    ├── zh.json                 # 简体中文翻译
    └── en.json                 # 英文翻译
```

## 使用方法

### 1. 选择语言
- 页面底部提供语言切换器
- 支持简体中文和英文界面
- 选择后实时切换，设置会被保存

### 2. 上传音频文件
- 点击上传区域或直接拖拽音频文件到上传区域
- 支持同时选择多个音频文件
- 上传成功后文件会显示在文件列表中

### 3. 预览音频文件
- 点击文件列表中的播放按钮预览音频
- 预览播放与播放列表播放完全独立
- 支持暂停、重置和进度拖拽

### 4. 创建播放列表
- 在已上传的音频文件中点击"添加到播放列表"按钮
- 文件会被添加到右侧的播放列表中
- 每个播放列表项目的默认播放速度为 1.0x

### 5. 调整播放速度
- 使用播放列表中的 +/- 按钮微调速度
- 在输入框中直接输入精确的速度值
- 支持 0.5x 到 3.0x 的速度范围

### 6. 选择播放模式
- 在播放列表标题栏中选择合适的播放模式
- **单曲播放**: 适合重复练习特定音频
- **顺序播放**: 适合按顺序学习或欣赏
- **列表循环**: 适合后台播放或连续练习
- **随机播放**: 适合随机复习或娱乐

### 7. 管理播放列表
- 使用上下箭头按钮调整播放顺序
- 点击垃圾桶图标删除不需要的项目
- 使用"清空播放列表"和"随机排序"进行批量操作

### 8. 播放控制
- 点击播放按钮开始播放播放列表
- 使用上一首/下一首按钮手动切换音频
- 拖拽进度条快速跳转到指定位置
- 播放时自动应用每个项目设定的播放速度
- 根据选择的播放模式自动处理播放结束后的行为

## 开发

### 环境要求
- Node.js 16+
- PNPM 7+

### 安装依赖
```bash
pnpm install
```

### 启动开发服务器
```bash
pnpm dev
```

### 生产构建
```bash
pnpm build
```

### 代码检查
```bash
pnpm lint
```

### 类型检查
```bash
pnpm typecheck
```

## 使用场景

- **语言学习**: 调整听力材料播放速度，适应不同学习阶段
- **音乐练习**: 慢速播放用于乐器练习，循环播放用于特定段落练习
- **播客收听**: 加速播放节省时间，或减速播放以便更好理解
- **会议录音**: 根据内容重要性调整播放速度
- **有声读物**: 个性化阅读体验，随机播放增加趣味性
- **学习复习**: 使用随机播放模式进行知识点复习
- **课程培训**: 为不同难度的课程内容设置合适的播放速度

## 核心特性

### 🔄 双音频系统
- 预览播放和播放列表播放完全独立
- 可以在播放播放列表的同时预览新文件
- 避免操作冲突，提升用户体验

### ⚡ 现代化架构
- 基于 Nuxt 3 和 Vue 3 Composition API
- 完整的 TypeScript 类型支持
- 模块化组件设计，易于维护和扩展

### 🎯 精确控制
- 支持 0.1x 精度的速度调整
- 拖拽进度条精确定位
- 实时播放状态反馈

### 💾 持久化存储
- 音频文件缓存在 IndexedDB 中，支持离线访问
- 播放列表状态和播放位置自动保存
- 页面重新加载时智能恢复

## 许可证

MIT License

---

© 2025 [Byron](https://github.com/byronogis). 保留所有权利。
